<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>牛</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="牛">
<meta property="og:url" content="http://damao4123.github.io/index.html">
<meta property="og:site_name" content="牛">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="牛">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="牛" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">牛</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://damao4123.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-第二个坑" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/25/第二个坑/" class="article-date">
  <time datetime="2016-04-25T07:00:58.000Z" itemprop="datePublished">2016-04-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/25/第二个坑/">第二个坑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>使劲挖</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://damao4123.github.io/2016/04/25/第二个坑/" data-id="cinfnw9sb00011ikpupv7rstf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-挖坑神器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/25/挖坑神器/" class="article-date">
  <time datetime="2016-04-25T07:00:58.000Z" itemprop="datePublished">2016-04-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/25/挖坑神器/">第一个坑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <link rel="stylesheet" href="http://yandex.st/highlightjs/6.2/styles/googlecode.min.css">

<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
<script src="http://yandex.st/highlightjs/6.2/highlight.min.js"></script>

<p><script>hljs.initHighlightingOnLoad();</script></p>
<p><script type="text/javascript"><br> $(document).ready(function(){<br>      $(“h1,h2,h3,h4,h5,h6”).each(function(i,item){<br>        var tag = $(item).get(0).localName;<br>        $(item).attr(“id”,”wow”+i);<br>        $(“#category”).append(‘<a class="new'+tag+'" href="#wow'+i+'">‘+$(this).text()+’</a></br>‘);<br>        $(“.newh1”).css(“margin-left”,0);<br>        $(“.newh2”).css(“margin-left”,20);<br>        $(“.newh3”).css(“margin-left”,40);<br>        $(“.newh4”).css(“margin-left”,60);<br>        $(“.newh5”).css(“margin-left”,80);<br>        $(“.newh6”).css(“margin-left”,100);<br>      });<br> });<br></script></p>
<div id="category"></div>


<h1 id="windowgateway-api-文档"><a href="#windowgateway-api-文档" class="headerlink" title="windowgateway api 文档"></a>windowgateway api 文档</h1><p>文档包括了2部分:<br>1.供移动端SDK使用的api。<br>2.供服务后台使用的api。</p>
<h1 id="1-服务窗“消息”API"><a href="#1-服务窗“消息”API" class="headerlink" title="1.服务窗“消息”API"></a>1.服务窗“消息”API</h1><p>该部分接口供移动端服务窗进行调用</p>
<h2 id="1-1-header参数-“消息”接口通用"><a href="#1-1-header参数-“消息”接口通用" class="headerlink" title="1.1     header参数-“消息”接口通用"></a>1.1     header参数-“消息”接口通用</h2><ul>
<li><p>通用头参数</p>
<p>序号|参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|token|String|鉴权中心token|是<br>2|userid|String|用户平台id(通过1.2接口获取的platformid)|是<br>3|sid|String|服务sid|是</p>
</li>
</ul>
<h2 id="1-2-根据uid和appkey-代替原channelid-注册平台用户"><a href="#1-2-根据uid和appkey-代替原channelid-注册平台用户" class="headerlink" title="1.2     根据uid和appkey(代替原channelid)注册平台用户"></a>1.2     根据uid和appkey(代替原channelid)注册平台用户</h2><ul>
<li><p>本接口不需关注header中的userid和sid信息</p>
<p>   2016-04-05:<br>   请求：</p>
<pre><code>1.去掉原channelid
2.保留uid
3.增加appkey(用来定位app信息)
</code></pre><p>   返回：</p>
<pre><code>1.去掉原channelid，clienttoken
2.增加appkey
</code></pre></li>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/login/client/regbychannel</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>输入参数</p>
<p>序号    |参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|appkey|String|应用appkey|是<br>2|uid|String|渠道用户id|是</p>
</li>
<li><p>输出</p>
<p>  {<br>  “code”: “200” //200作为操作成功返回码<br>  “msg”: “错误消息”<br>  “userid”: “用户id”<br>  “appkey”: “用户应用appkey”<br>  “platformid”: “用户平台id”<br>  }</p>
</li>
</ul>
<h2 id="1-3-发送文字信息"><a href="#1-3-发送文字信息" class="headerlink" title="1.3     发送文字信息"></a>1.3     发送文字信息</h2><ul>
<li><p>通过指定不同的json参数，可以传不同的消息格式到远端，目前只支持文本消息</p>
</li>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/client/toremote</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>输入参数</p>
<p>序号    |参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|json|String|{<br>“serverId”: “服务id”,<br>“deviceId”: “使用者id”,<br>“msg”: “信息详情”,<br>“createtime”: “系统时间”<br>}|是</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;serviceId&quot;: &quot;这是服务id&quot;,
&quot;passiveMultiText&quot;: {
    &quot;ToUserName&quot;: &quot;客户端用户id&quot;,
    &quot;FromUserName&quot;: &quot;远端服务id&quot;,
    &quot;CreateTime&quot;: &quot;系统时间&quot;,
    &quot;MsgType&quot;: &quot;news&quot;,
    &quot;Articles&quot;: [
        {
            &quot;Title&quot;: &quot;图文信息的title&quot;,
            &quot;Description&quot;: &quot;图文信息的描述&quot;,
            &quot;PicUrl&quot;: &quot;图文信息的图像url&quot;,
            &quot;Url&quot;: &quot;点击图文信跳转至的url&quot;
        }
    ]
},
&quot;passiveSingleText&quot;: {
    &quot;ToUserName&quot;: &quot;客户端用户id&quot;,
    &quot;FromUserName&quot;: &quot;远端服务id&quot;,
    &quot;CreateTime&quot;: &quot;系统时间&quot;,
    &quot;MsgType&quot;: &quot;text&quot;,
    &quot;Content&quot;: &quot;文本消息的内容&quot;
},
</code></pre><p>   “code”: “602”    //601是作为获取远端服务返回代码,失败则为404<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="1-4-获取服务菜单"><a href="#1-4-获取服务菜单" class="headerlink" title="1.4     获取服务菜单"></a>1.4     获取服务菜单</h2><ul>
<li><p>请求地址</p>
<p>   http://<ip>:<port>/client/menu/info</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>输出</p>
<p>   针对自定义菜单创建的示例，正确的返回如下<br>   {</p>
<pre><code>&quot;menu&quot;: {
    &quot;button&quot;: [
        {
            &quot;type&quot;: &quot;click&quot;,
            &quot;name&quot;: &quot;今日歌曲&quot;,
            &quot;key&quot;: &quot;V1001_TODAY_MUSIC&quot;,
            &quot;sub_button&quot;: []
        },
        {
            &quot;type&quot;: &quot;click&quot;,
            &quot;name&quot;: &quot;歌手简介&quot;,
            &quot;key&quot;: &quot;V1001_TODAY_SINGER&quot;,
            &quot;sub_button&quot;: []
        },
        {
            &quot;name&quot;: &quot;菜单&quot;,
            &quot;sub_button&quot;: [
                {
                    &quot;type&quot;: &quot;view&quot;,
                    &quot;name&quot;: &quot;搜索&quot;,
                    &quot;url&quot;: &quot;http://www.soso.com/&quot;,
                    &quot;sub_button&quot;: []
                },
                {
                    &quot;type&quot;: &quot;view&quot;,
                    &quot;name&quot;: &quot;视频&quot;,
                    &quot;url&quot;: &quot;http://v.qq.com/&quot;,
                    &quot;sub_button&quot;: []
                },
                {
                    &quot;type&quot;: &quot;click&quot;,
                    &quot;name&quot;: &quot;赞一下我们&quot;,
                    &quot;key&quot;: &quot;V1001_GOOD&quot;,
                    &quot;sub_button&quot;: []
                }
            ]
        }
    ]
}
</code></pre><p>   }</p>
</li>
</ul>
<h2 id="1-5-发送click消息-点击菜单"><a href="#1-5-发送click消息-点击菜单" class="headerlink" title="1.5     发送click消息-点击菜单"></a>1.5     发送click消息-点击菜单</h2><ul>
<li><p>请求地址</p>
<p>   http://<ip>:<port>/client/menu/click</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>输入参数</p>
<p>序号|参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|createtime|String|系统时间戳|是<br>2|key|String|菜单Key值|是</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;serviceId&quot;: &quot;这是服务id&quot;,
&quot;passiveMultiText&quot;: {
    &quot;ToUserName&quot;: &quot;客户端用户id&quot;,
    &quot;FromUserName&quot;: &quot;远端服务id&quot;,
    &quot;CreateTime&quot;: &quot;系统时间&quot;,
    &quot;MsgType&quot;: &quot;news&quot;,
    &quot;Articles&quot;: [
        {
            &quot;Title&quot;: &quot;图文信息的title&quot;,
            &quot;Description&quot;: &quot;图文信息的描述&quot;,
            &quot;PicUrl&quot;: &quot;图文信息的图像url&quot;,
            &quot;Url&quot;: &quot;点击图文信跳转至的url&quot;
        }
    ]
},
&quot;passiveSingleText&quot;: {
    &quot;ToUserName&quot;: &quot;客户端用户id&quot;,
    &quot;FromUserName&quot;: &quot;远端服务id&quot;,
    &quot;CreateTime&quot;: &quot;系统时间&quot;,
    &quot;MsgType&quot;: &quot;text&quot;,
    &quot;Content&quot;: &quot;文本消息的内容&quot;
},
</code></pre><p>   “code”: “602”    //602是作为获取远端服务返回代码,失败则为404<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="1-6-发送view消息-点击菜单"><a href="#1-6-发送view消息-点击菜单" class="headerlink" title="1.6     发送view消息-点击菜单"></a>1.6     发送view消息-点击菜单</h2><ul>
<li><p>请求地址</p>
<p>   http://<ip>:<port>/client/menu/view</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>输入参数</p>
<p>序号|参数名|类型|释义|是否必须<br>—|—|—|—|—<br>3|sid|String|服务id|是<br>4|createtime|String|系统时间戳|是<br>5|key|String|访问URL|是</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;serviceId&quot;: &quot;这是服务id&quot;,
&quot;passiveMultiText&quot;: {
    &quot;ToUserName&quot;: &quot;客户端用户id&quot;,
    &quot;FromUserName&quot;: &quot;远端服务id&quot;,
    &quot;CreateTime&quot;: &quot;系统时间&quot;,
    &quot;MsgType&quot;: &quot;news&quot;,
    &quot;Articles&quot;: [
        {
            &quot;Title&quot;: &quot;图文信息的title&quot;,
            &quot;Description&quot;: &quot;图文信息的描述&quot;,
            &quot;PicUrl&quot;: &quot;图文信息的图像url&quot;,
            &quot;Url&quot;: &quot;点击图文信跳转至的url&quot;
        }
    ]
},
&quot;passiveSingleText&quot;: {
    &quot;ToUserName&quot;: &quot;客户端用户id&quot;,
    &quot;FromUserName&quot;: &quot;远端服务id&quot;,
    &quot;CreateTime&quot;: &quot;系统时间&quot;,
    &quot;MsgType&quot;: &quot;text&quot;,
    &quot;Content&quot;: &quot;文本消息的内容&quot;
},
</code></pre><p>   “code”: “602”    //602是作为获取远端服务返回代码,失败则为404<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="1-7-发送首次关注消息"><a href="#1-7-发送首次关注消息" class="headerlink" title="1.7     发送首次关注消息"></a>1.7     发送首次关注消息</h2><ul>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/client/toremoteevent</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>输入参数</p>
<p>   序号|参数名|类型|释义|是否必须<br>   —|—|—|—|—<br>   1|sid|String|服务id|是<br>   2|event|String|事件类型subscribe(订阅)、unsubscribe(取消订阅)|是<br>   3|json|String|如果是特殊事件，则为事件参数|否</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;serviceId&quot;: &quot;这是服务id&quot;,
&quot;passiveMultiText&quot;: {
    &quot;ToUserName&quot;: &quot;客户端用户id&quot;,
    &quot;FromUserName&quot;: &quot;远端服务id&quot;,
    &quot;CreateTime&quot;: &quot;系统时间&quot;,
    &quot;MsgType&quot;: &quot;news&quot;,
    &quot;Articles&quot;: [
        {
            &quot;Title&quot;: &quot;图文信息的title&quot;,
            &quot;Description&quot;: &quot;图文信息的描述&quot;,
            &quot;PicUrl&quot;: &quot;图文信息的图像url&quot;,
            &quot;Url&quot;: &quot;点击图文信跳转至的url&quot;
        }
    ]
},
&quot;passiveSingleText&quot;: {
    &quot;ToUserName&quot;: &quot;客户端用户id&quot;,
    &quot;FromUserName&quot;: &quot;远端服务id&quot;,
    &quot;CreateTime&quot;: &quot;系统时间&quot;,
    &quot;MsgType&quot;: &quot;text&quot;,
    &quot;Content&quot;: &quot;文本消息的内容&quot;
},
</code></pre><p>   “code”: “602”    //602<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="1-8-发送自定义消息"><a href="#1-8-发送自定义消息" class="headerlink" title="1.8     发送自定义消息"></a>1.8     发送自定义消息</h2><ul>
<li><p>完全转发应用前端的字符串信息，msg格式自定义</p>
</li>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/client/toremotecustom</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>输入参数</p>
<p>   序号|参数名|类型|释义|是否必须<br>   —|—|—|—|—<br>   1|sid|String|服务在平台中的id|是<br>   2|msg|String|发出的文本消息|是</p>
</li>
<li><p>输出</p>
<p>   服务远端返回的字符串信息</p>
</li>
</ul>
<h1 id="2-服务窗“数据”API"><a href="#2-服务窗“数据”API" class="headerlink" title="2    服务窗“数据”API"></a>2    服务窗“数据”API</h1><ul>
<li>该部分接口供移动端服务窗进行调用</li>
</ul>
<h2 id="2-1-header参数-“数据”接口通用"><a href="#2-1-header参数-“数据”接口通用" class="headerlink" title="2.1     header参数-“数据”接口通用"></a>2.1     header参数-“数据”接口通用</h2><ul>
<li><p>通用头参数，服务端可以通过以下参数确定使用者的身份及权限</p>
<p>   2016-04-05:<br>   头参数：1.增加token(鉴权中心token)</p>
<p>序号|参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|token|String|鉴权中心token|是</p>
</li>
</ul>
<h2 id="2-2-获取可用服务列表"><a href="#2-2-获取可用服务列表" class="headerlink" title="2.2     获取可用服务列表"></a>2.2     获取可用服务列表</h2><ul>
<li><p>   20140615<br>   1.修改所有服务路径，用/service 代替原 /channel/client</p>
</li>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/service/servicelist/{servicetype}/{pageno}/{pagesize}</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>输入参数</p>
<p>序号    |参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|servicetype|String|获取的服务列表类型(全部、某类型)，全部类型则此参数为all|是<br>2|pageno|String|需请求的当前页(从0开始)|否<br>3|pagesize|String|每页的条数|否</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;services&quot;: [
    {
        &quot;id&quot;: 1,
        &quot;sId&quot;:  &quot;这里是服务id&quot;,
        &quot;dId&quot;: &quot;这里是开发者id&quot;,
        &quot;sname&quot;: &quot;这里是服务名&quot;,
        &quot;surl&quot;: &quot;这里是服务的url入口地址&quot;,
        &quot;simg&quot;: &quot;这里是服务图标url&quot;,
        &quot;desripton&quot;: &quot;这里是服务描述&quot;,
        &quot;token&quot;: &quot;这里是注册服务的时remote提供的token&quot;,
        &quot;createTime&quot;: &quot;1\n407291402654&quot;,
        &quot;appId&quot;: &quot;这里是appid&quot;,
        &quot;secrityId&quot;: &quot;这里是secrityId&quot;,
        &quot;channalId&quot;: &quot;渠道商id&quot;,
        &quot;typeId&quot;: &quot;分类id&quot;,
        &quot;keyword&quot;: &quot;服务关键字&quot;

    }
],
&quot;pageInfo&quot;: {
    &quot;pageTotalCount&quot;: &quot;这里是总页数&quot;,
    &quot;pageNo&quot;: &quot;这里是当前页数，从0开始&quot;,
    &quot;pageSize&quot;: &quot;这里是当前分页每页信息条数&quot;
},
</code></pre><p>   “code”: “601” //601是作为服务列表服务返回代码,失败则为404<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="2-3-获取服务类型列表"><a href="#2-3-获取服务类型列表" class="headerlink" title="2.3     获取服务类型列表"></a>2.3     获取服务类型列表</h2><ul>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/service/typelist/{tid}</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>输入参数</p>
<p>序号    |参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|tid|String|类型id（最大类用all）|否</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;types&quot;: [
    {
        &quot;id&quot;: 1,
        &quot;tid&quot;: “这里是类型id”,
        &quot;parentid&quot;: &quot;这里分类的父节点id&quot;,
        &quot;tname&quot;: &quot;这里是分类名称&quot;,
        &quot;des&quot;: &quot;这里是类型描述&quot;,
        &quot;timg&quot;: &quot;这里是分类图标&quot;,
</code></pre><p>   “sub_type”: [</p>
<pre><code>            {
                &quot;id&quot;: 32768,
                &quot;tid&quot;: &quot;子类型id&quot;,
                &quot;parentid&quot;: &quot;子类型父节点id&quot;,
                &quot;tname&quot;: &quot;分类名称&quot;,
                &quot;des&quot;: &quot;分类描述&quot;,
                &quot;timg&quot;: &quot;这里是子类型分类图标&quot;
            },
            ……
        ]
    },
    ……
],
</code></pre><p>   “code”: “200”,<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="2-4-获取服务列表-关键字搜索"><a href="#2-4-获取服务列表-关键字搜索" class="headerlink" title="2.4     获取服务列表-关键字搜索"></a>2.4     获取服务列表-关键字搜索</h2><ul>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/service/servicelistbykey/{keyword}</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>输入参数</p>
<p>序号    |参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|keyword|String|搜索关键字，经过两次UrlEncoder.encode。使用utf-8编码|是</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;services&quot;: [
    {
        &quot;id&quot;: 1,
        &quot;sId&quot;:  &quot;这里是服务id&quot;,
        &quot;dId&quot;: &quot;这里是开发者id&quot;
        &quot;sname&quot;: &quot;这里是服务名&quot;,
        &quot;surl&quot;: &quot;这里是服务的url入口地址&quot;,
        &quot;simg&quot;: &quot;这里是服务图标url&quot;,
        &quot;desripton&quot;: &quot;这里是服务描述&quot;,
        &quot;token&quot;: &quot;这里是注册服务的时remote提供的token&quot;,
        &quot;createTime&quot;: &quot;1\n407291402654&quot;,
        &quot;appId&quot;: &quot;这里是appid&quot;,
        &quot;secrityId&quot;: &quot;这里是secrityId&quot;,
        &quot;channalId&quot;: &quot;渠道商id&quot;,
        &quot;typeId&quot;: &quot;分类id&quot;,
        &quot;keyword&quot;: &quot;服务关键字&quot;

    }
],
</code></pre><p>   “code”: “601”, //200是作为服务成功返回代码,失败则为404<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="2-5-根据服务id和appkey和channelid获取单个服务详情"><a href="#2-5-根据服务id和appkey和channelid获取单个服务详情" class="headerlink" title="2.5     根据服务id和appkey和channelid获取单个服务详情"></a>2.5     根据服务id和appkey和channelid获取单个服务详情</h2><ul>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/service/servicedetailbyappkey/{appkey}/{channelid}/{sid}</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>输入参数</p>
<p>序号    |参数名|类型|释义    |是否必须<br>—|—|—|—|—<br>1|appkey|String    |渠道的appkey|是<br>2|channelid|String|渠道id|是<br>3|sid|String|服务id|是</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;service&quot;    {
        &quot;id&quot;: 1,
        &quot;sId&quot;:  &quot;这里是服务id&quot;,
        &quot;dId&quot;: &quot;这里是开发者id&quot;,
        &quot;sname&quot;: &quot;这里是服务名&quot;,
        &quot;surl&quot;: &quot;这里是服务的url入口地址&quot;,
        &quot;simg&quot;: &quot;这里是服务图标url&quot;,
        &quot;desripton&quot;: &quot;这里是服务描述&quot;,
        &quot;token&quot;: &quot;这里是注册服务的时remote提供的token&quot;,
        &quot;createTime&quot;: &quot;1\n407291402654&quot;,
        &quot;appId&quot;: &quot;这里是appid&quot;,
        &quot;secrityId&quot;: &quot;这里是secrityId&quot;,         
        &quot;channalId&quot;: &quot;渠道商id&quot;,
        &quot;typeId&quot;: &quot;分类id&quot;,
        &quot;keyword&quot;: &quot;服务关键字&quot;

 },
</code></pre><p>   “code”: “200”, //200是作为服务成功返回代码,失败则为404<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="2-6-（暂不启用）获取服务列表-经纬度搜索"><a href="#2-6-（暂不启用）获取服务列表-经纬度搜索" class="headerlink" title="2.6     （暂不启用）获取服务列表-经纬度搜索"></a>2.6     （暂不启用）获取服务列表-经纬度搜索</h2><ul>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/service/servicelistbygps/{tid}/{lat}/{lng}/{radius}/{pageno}/{pagesize}</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>输入参数</p>
<p>序号|参数名|类型|释义|是否必须<br>1|tid|String|类别id|是<br>2|lat|String|纬度坐标|是<br>3|lng|String|经度坐标|是<br>4|radius|String|半径(整数公里)|是<br>5|pageno|String|起始页数，0开始|是<br>6|pagesize|String|每页条数|是</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;services&quot;: [
    {
        &quot;id&quot;: 1,
        &quot;sId&quot;:  &quot;这里是服务id&quot;,
        &quot;dId&quot;: &quot;这里是开发者id&quot;,
        &quot;sname&quot;: &quot;这里是服务名&quot;,
        &quot;surl&quot;: &quot;这里是服务的url入口地址&quot;,
        &quot;simg&quot;: &quot;这里是服务图标url&quot;,
        &quot;desripton&quot;: &quot;这里是服务描述&quot;,
        &quot;token&quot;: &quot;这里是注册服务的时remote提供的token&quot;,
        &quot;createTime&quot;: &quot;1\n407291402654&quot;,
        &quot;appId&quot;: &quot;这里是appid&quot;,
        &quot;secrityId&quot;: &quot;这里是secrityId&quot;,
        &quot;channalId&quot;: &quot;渠道商id&quot;,
        &quot;typeId&quot;: &quot;分类id&quot;,
        &quot;keyword&quot;: &quot;服务关键字&quot;

    }
],
</code></pre><p>   “code”: “601”, //200是作为服务成功返回代码,失败则为404<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="2-7-对服务窗打开样式进行查询"><a href="#2-7-对服务窗打开样式进行查询" class="headerlink" title="2.7     对服务窗打开样式进行查询"></a>2.7     对服务窗打开样式进行查询</h2><ul>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/service/servicestyle/{sid}</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>输入参数</p>
<p>序号|参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|sid|String|服务id|是</p>
</li>
<li><p>输出</p>
<p>   {</p>
<pre><code>&quot;id&quot;: 1,
&quot;sid&quot;:  &quot;这里是服务id&quot;,
&quot;style&quot;: &quot;服务style值&quot;,
</code></pre><p>   “code”: “200”, //200是作为服务成功返回代码,失败则为404<br>   “msg”: “错误消息”<br>   }</p>
</li>
</ul>
<h1 id="3-服务后台OPENAPI"><a href="#3-服务后台OPENAPI" class="headerlink" title="3    服务后台OPENAPI"></a>3    服务后台OPENAPI</h1><ul>
<li>该部分接口供服务后端窗进行调用</li>
</ul>
<h2 id="3-1-header参数-OPENAPI接口通用"><a href="#3-1-header参数-OPENAPI接口通用" class="headerlink" title="3.1     header参数-OPENAPI接口通用"></a>3.1     header参数-OPENAPI接口通用</h2><ul>
<li><p>   通用头参数，服务端可以通过以下参数确定使用者的身份及权限<br>   2016-04-19:<br>   头参数：1.去掉原accesstoken机制，采用ocauth的token机制，传sid</p>
<p>序号|参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|token|String|鉴权中心token|是<br>2|sid|String|要操作的服务id|是</p>
</li>
</ul>
<h2 id="3-2-对服务窗打开样式进行设置"><a href="#3-2-对服务窗打开样式进行设置" class="headerlink" title="3.2     对服务窗打开样式进行设置"></a>3.2     对服务窗打开样式进行设置</h2><ul>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/remote/servicestyle/set</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>输入参数</p>
<p>序号    |参数名|类型|释义|是否必须<br>—|—|—|—|—<br>0|style|String|-1或null:按照前台手动设置进行<br>0:对话模式<br>1:web模式|是</p>
</li>
<li><p>成功返回</p>
<p>   {<br>   “errcode”: 200 //200是作为服务成功返回代码,失败则为404<br>   “errmsg”: “设置成功”<br>   }</p>
</li>
<li><p>失败返回</p>
<p>   {</p>
<pre><code>&quot;errcode&quot;: 404 //200是作为服务成功返回代码,失败则为404
</code></pre><p>   “errmsg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="3-3-对服务窗打开样式进行查询"><a href="#3-3-对服务窗打开样式进行查询" class="headerlink" title="3.3     对服务窗打开样式进行查询"></a>3.3     对服务窗打开样式进行查询</h2><ul>
<li><p>   2016-04-19:<br>   参数：1.去掉传参sid，通过header统一传入sid</p>
</li>
<li><p>服务地址</p>
<p>   http://<ip>:<port>/remote/servicestyle/get</port></ip></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>成功返回</p>
<p>   {<br>   “id”: 1<br>   “sid”: “服务的id”<br>   “style”: “服务style数值” //-1或null:按照前台手动设置进行.0:对话模式.1:web模式<br>   }</p>
</li>
<li><p>失败返回</p>
<p>   {</p>
<pre><code>&quot;errcode&quot;: 404 //200是作为服务成功返回代码,失败则为404
</code></pre><p>   “errmsg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="3-4-服务的自定义菜单的创建"><a href="#3-4-服务的自定义菜单的创建" class="headerlink" title="3.4     服务的自定义菜单的创建"></a>3.4     服务的自定义菜单的创建</h2><ul>
<li><p>请求地址</p>
<p>   <a href="http://ip" target="_blank" rel="external">http://ip</a>:<port>/menu/create</port></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>请求示例</p>
<p>   {</p>
<pre><code>    &quot;button&quot;:[
    {    
         &quot;type&quot;:&quot;click&quot;,
         &quot;name&quot;:&quot;今日歌曲&quot;,
         &quot;key&quot;:&quot;V1001_TODAY_MUSIC&quot;
     },
     {
          &quot;type&quot;:&quot;click&quot;,
          &quot;name&quot;:&quot;歌手简介&quot;,
          &quot;key&quot;:&quot;V1001_TODAY_SINGER&quot;
     },
     {
          &quot;name&quot;:&quot;菜单&quot;,
          &quot;sub_button&quot;:[
          {    
              &quot;type&quot;:&quot;view&quot;,
              &quot;name&quot;:&quot;搜索&quot;,
              &quot;url&quot;:&quot;http://www.google.com/&quot;
           },
           {
              &quot;type&quot;:&quot;view&quot;,
              &quot;name&quot;:&quot;视频&quot;,
              &quot;url&quot;:&quot;http://v.google.com/&quot;
           },
           {
              &quot;type&quot;:&quot;click&quot;,
              &quot;name&quot;:&quot;赞一下我们&quot;,
              &quot;key&quot;:&quot;V1001_GOOD&quot;
           }]
      }]
}
</code></pre></li>
<li><p>参数说明</p>
<p>序号|参数名|释义|是否必须<br>—|—|—|—<br>1|button|一级菜单数组，个数应为1~3个|是<br>2|sub_button|二级菜单数组，个数应为1~5个|否<br>3|type|菜单的响应动作类型，有click、view两种类型|是<br>4|name|菜单标题，不超过16个字节，子菜单不超过40个字节    |是<br>5|key|菜单KEY值，用于消息接口推送，不超过128字节    |click类型必须<br>6|EventKey|网页链接，用户点击菜单可打开链接，不超过256字节|view类型必须</p>
</li>
</ul>
<ul>
<li><p>返回</p>
<p>   {</p>
<pre><code>&quot;errcode&quot;: 200 //200是作为成功返回代码,失败则为404
</code></pre><p>   “errmsg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="3-5-服务的自定义菜单查询接口"><a href="#3-5-服务的自定义菜单查询接口" class="headerlink" title="3.5     服务的自定义菜单查询接口"></a>3.5     服务的自定义菜单查询接口</h2><ul>
<li><p>请求地址</p>
<p>  <a href="http://ip" target="_blank" rel="external">http://ip</a>:<port>/menu/get</port></p>
</li>
<li><p>请求方式</p>
<p>  GET</p>
</li>
<li><p>返回示例</p>
<p>   针对自定义菜单创建的示例，正确的返回如下<br>   {“menu”:{“button”:[{“type”:”click”,”name”:”今日歌曲”,”key”:”V1001_TODAY_MUSIC”,”sub_button”:[]},{“type”:”click”,”name”:”歌手简介”,”key”:”V1001_TODAY_SINGER”,”sub_button”:[]},{“name”:”菜单”,”sub_button”:[{“type”:”view”,”name”:”搜索”,”url”:”<a href="http://www.soso.com/&quot;,&quot;sub_button&quot;:[]},{&quot;type&quot;:&quot;view&quot;,&quot;name&quot;:&quot;视频&quot;,&quot;url&quot;:&quot;http://v.qq.com/&quot;,&quot;sub_button&quot;:[]},{&quot;type&quot;:&quot;click&quot;,&quot;name&quot;:&quot;赞一下我们&quot;,&quot;key&quot;:&quot;V1001_GOOD&quot;,&quot;sub_button&quot;:[]}]}]}}" target="_blank" rel="external">http://www.soso.com/&quot;,&quot;sub_button&quot;:[]},{&quot;type&quot;:&quot;view&quot;,&quot;name&quot;:&quot;视频&quot;,&quot;url&quot;:&quot;http://v.qq.com/&quot;,&quot;sub_button&quot;:[]},{&quot;type&quot;:&quot;click&quot;,&quot;name&quot;:&quot;赞一下我们&quot;,&quot;key&quot;:&quot;V1001_GOOD&quot;,&quot;sub_button&quot;:[]}]}]}}</a></p>
</li>
<li><p>失败返回</p>
<p>   {</p>
<pre><code>&quot;errcode&quot;: 404 //200是作为服务成功返回代码,失败则为404
</code></pre><p>   “errmsg”: “错误消息”<br>   }</p>
</li>
</ul>
<h2 id="3-6-服务的自定义菜单删除接口"><a href="#3-6-服务的自定义菜单删除接口" class="headerlink" title="3.6     服务的自定义菜单删除接口"></a>3.6     服务的自定义菜单删除接口</h2><ul>
<li><p>请求地址</p>
<p>   <a href="http://ip" target="_blank" rel="external">http://ip</a>:<port>/menu/delete</port></p>
</li>
<li><p>请求方式</p>
<p>   GET</p>
</li>
<li><p>返回示例</p>
<p>   针对自定义菜单创建的示例<br>   {</p>
<pre><code>&quot;errcode&quot;: 200 //200是作为服务成功返回代码,失败则为404
</code></pre><p>   “errmsg”: “错误消息”<br>   }</p>
</li>
</ul>
<h1 id="4-附录1：windowgateway转发“消息”接口-通用内容-windowgateway向后端服务发起请求。附带“消息”"><a href="#4-附录1：windowgateway转发“消息”接口-通用内容-windowgateway向后端服务发起请求。附带“消息”" class="headerlink" title="4    附录1：windowgateway转发“消息”接口-通用内容(windowgateway向后端服务发起请求。附带“消息”)"></a>4    附录1：windowgateway转发“消息”接口-通用内容(windowgateway向后端服务发起请求。附带“消息”)</h1><h2 id="4-1-通用转发参数（所有转发访问都会携带的url参数信息）"><a href="#4-1-通用转发参数（所有转发访问都会携带的url参数信息）" class="headerlink" title="4.1    通用转发参数（所有转发访问都会携带的url参数信息）"></a>4.1    通用转发参数（所有转发访问都会携带的url参数信息）</h2><ul>
<li><p>所有请求过程会附带signature、timestamp、nonce这3个参数,其中signature的生成机制加密/校验流程如下：</p>
<ul>
<li><ol>
<li>将token、timestamp、nonce三个参数进行字典序排序</li>
</ol>
</li>
<li><ol>
<li>将三个参数字符串拼接成一个字符串进行sha1加密</li>
</ol>
</li>
<li><ol>
<li>开发者获得加密后的字符串可与signature对比，标识该请求来源于微信。</li>
</ol>
</li>
</ul>
</li>
<li><p>服务地址</p>
<p>   <a href="http://serverurl?signature=parm1&amp;timestamp=parm2&amp;nonce=parm3" target="_blank" rel="external">http://serverurl?signature=parm1&amp;timestamp=parm2&amp;nonce=parm3</a></p>
</li>
<li><p>请求输入参数</p>
<p>序号    |参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|signature|String|1. 将token、timestamp、nonce三个参数进行字典序排序<br>2. 将三个参数字符串拼接成一个字符串进行sha1加密<br>3. 开发者获得加密后的字符串可与signature对比，标识该请求来源于微信|是<br>2|timestamp|String|当前时间戳（目前用系统毫秒）|是<br>3|nonce|String|随机字符串|是</p>
</li>
</ul>
<h2 id="4-2-服务后台用返回的passive-text单文本信息"><a href="#4-2-服务后台用返回的passive-text单文本信息" class="headerlink" title="4.2    服务后台用返回的passive_text单文本信息"></a>4.2    服务后台用返回的passive_text单文本信息</h2><ul>
<li><p>消息格式</p>
   <xml><br>   <tousername>&lt;![CDATA[toUser]]&gt;</tousername><br>   <fromusername>&lt;![CDATA[fromUser]]&gt;</fromusername><br>   <createtime>12345678</createtime><br>   <msgtype>&lt;![CDATA[text]]&gt;</msgtype><br>   <content>&lt;![CDATA[你好]]&gt;</content><br>   </xml>
</li>
<li><p>消息参数</p>
<p>序号|参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|ToUserName|String|客户端id|是<br>2|FromUserName|String|当前的服务id|是<br>3|CreateTime|String|毫秒系统时间|是<br>4|MsgType|String|消息类型：为text    |是<br>5|Content|String|消息内容|是</p>
</li>
</ul>
<h2 id="4-3-服务后台用返回的passive-news多图文信息"><a href="#4-3-服务后台用返回的passive-news多图文信息" class="headerlink" title="4.3    服务后台用返回的passive_news多图文信息"></a>4.3    服务后台用返回的passive_news多图文信息</h2><ul>
<li><p>消息格式</p>
   <xml><br>       <tousername>&lt;![CDATA[toUser]]&gt;</tousername><br>       <fromusername>&lt;![CDATA[fromUser]]&gt;</fromusername><br>       <createtime>12345678</createtime><br>       <msgtype>&lt;![CDATA[news]]&gt;</msgtype><br>       <articlecount>2</articlecount><br>       <articles><br>           <item><br>               <title>&lt;![CDATA[title1]]&gt;</title><br>               <description>&lt;![CDATA[description1]]&gt;</description><br>               <picurl>&lt;![CDATA[picurl]]&gt;</picurl><br>               <url>&lt;![CDATA[url]]&gt;</url><br>           </item><br>           <item><br>               <title>&lt;![CDATA[title]]&gt;</title><br>               <description>&lt;![CDATA[description]]&gt;</description><br>               <picurl>&lt;![CDATA[picurl]]&gt;</picurl><br>               <url>&lt;![CDATA[url]]&gt;</url><br>           </item><br>       </articles><br>   </xml> 
</li>
<li><p>消息参数</p>
<p>序号    |参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|ToUserName|String|客户端id|是<br>2|FromUserName|String|当前的服务id|是<br>3|CreateTime|String|毫秒系统时间|是<br>4|MsgType|String|消息类型：为news    |是<br>5|ArticleCount|String|具体图文消息个数|是<br>6|Articles|String|多条图文消息信息，默认第一个item为大图,注意，如果图文数超过10，则将会无响应|    是<br>7|Title |String|图文消息标题|    是<br>8|Description |String|图文消息描述 |是<br>9|PicUrl |String|图片链接，支持JPG、PNG格式 |是<br>10|Url |String |点击图文消息跳转链接 |是</p>
</li>
</ul>
<h1 id="5-附录2：windowgateway转发“消息”接口"><a href="#5-附录2：windowgateway转发“消息”接口" class="headerlink" title="5    附录2：windowgateway转发“消息”接口"></a>5    附录2：windowgateway转发“消息”接口</h1><h2 id="5-1-向服务地址转发msg-text文字信息接口"><a href="#5-1-向服务地址转发msg-text文字信息接口" class="headerlink" title="5.1    向服务地址转发msg_text文字信息接口"></a>5.1    向服务地址转发msg_text文字信息接口</h2><ul>
<li><p>服务地址</p>
<p>   后端服务地址</p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>请求流</p>
   <xml><br>    <tousername>&lt;![CDATA[toUser]]&gt;</tousername><br>    <fromusername>&lt;![CDATA[fromUser]]&gt;</fromusername><br>    <createtime>1348831860</createtime><br>    <msgtype>&lt;![CDATA[text]]&gt;</msgtype><br>    <content>&lt;![CDATA[this is a test]]&gt;</content><br>    <msgid>1234567890123456</msgid><br>   </xml>
</li>
<li><p>输入流参数</p>
<p>序号|参数名|类型|释义|是否必须<br>—|—|—|—|—<br>1|ToUserName|String|当前服务的id|是<br>2|FromUserName|String|客户端id|是<br>3|CreateTime|String|毫秒系统时间|是<br>4|MsgType|String|消息类型：为text|是<br>5|Content|String|消息内容|是<br>6|MsgId|String|消息id，为随机字符串|是</p>
</li>
<li><p>服务返回</p>
<p>   文字或多图文消息</p>
</li>
</ul>
<h2 id="5-2-向服务地址转发msg-click点击菜单消息"><a href="#5-2-向服务地址转发msg-click点击菜单消息" class="headerlink" title="5.2    向服务地址转发msg_click点击菜单消息"></a>5.2    向服务地址转发msg_click点击菜单消息</h2><ul>
<li><p>服务地址</p>
<p>   <a href="http://serverurl" target="_blank" rel="external">http://serverurl</a></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>请求流</p>
   <xml><br>       <tousername>&lt;![CDATA[toUser]]&gt;</tousername><br>       <fromusername>&lt;![CDATA[FromUser]]&gt;</fromusername><br>       <createtime>123456789</createtime><br>       <msgtype>&lt;![CDATA[event]]&gt;</msgtype><br>       <event>&lt;![CDATA[CLICK]]&gt;</event><br>       <eventkey>&lt;![CDATA[EVENTKEY]]&gt;</eventkey><br>   </xml>
</li>
<li><p>输入流参数</p>
<p>序号|参数名|释义<br>—|—|—<br>1|ToUserName|服务编号<br>2|FromUserName|发送方账号<br>3|CreateTime|点击事件发生时间戳<br>4|MsgType|事件类型，event<br>5|Event|点击事件类型，CLICK<br>6|EventKey|事件KEY值，与自定义菜单接口中KEY值对应</p>
</li>
<li><p>输出</p>
<p>   文字或多图文消息</p>
</li>
</ul>
<h2 id="5-3-向服务地址转发msg-view点击菜单消息"><a href="#5-3-向服务地址转发msg-view点击菜单消息" class="headerlink" title="5.3    向服务地址转发msg_view点击菜单消息"></a>5.3    向服务地址转发msg_view点击菜单消息</h2><ul>
<li><p>服务地址</p>
<p>   <a href="http://serverurl" target="_blank" rel="external">http://serverurl</a></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>请求流</p>
   <xml><br>       <tousername>&lt;![CDATA[toUser]]&gt;</tousername><br>       <fromusername>&lt;![CDATA[FromUser]]&gt;</fromusername><br>       <createtime>123456789</createtime><br>       <msgtype>&lt;![CDATA[event]]&gt;</msgtype><br>       <event>&lt;![CDATA[VIEW]]&gt;</event><br>       <eventkey>&lt;![CDATA[www.wondersgroup.com]]&gt;</eventkey><br>   </xml>
</li>
<li><p>输入流参数</p>
<p>序号    |参数名    |释义<br>—|—|—<br>1|ToUserName|服务编号<br>2|FromUserName|发送方账号<br>3|CreateTime|点击事件发生时间戳<br>4|MsgType|事件类型，event<br>5|Event|点击事件类型，VIEW<br>6|EventKey|事件KEY值，设置的跳转URL</p>
</li>
<li><p>输出</p>
<p>   文字或多图文消息</p>
</li>
</ul>
<h2 id="5-4-向服务地址转发首次访问事件-即订阅欢迎事件-消息"><a href="#5-4-向服务地址转发首次访问事件-即订阅欢迎事件-消息" class="headerlink" title="5.4    向服务地址转发首次访问事件(即订阅欢迎事件)消息"></a>5.4    向服务地址转发首次访问事件(即订阅欢迎事件)消息</h2><ul>
<li><p>服务地址</p>
<p>   <a href="http://serverurl" target="_blank" rel="external">http://serverurl</a></p>
</li>
<li><p>请求方式</p>
<p>   POST</p>
</li>
<li><p>请求流</p>
<xml><br>   <tousername>&lt;![CDATA[toUser]]&gt;</tousername><br>   <fromusername>&lt;![CDATA[FromUser]]&gt;</fromusername><br>   <createtime>123456789</createtime><br>   <msgtype>&lt;![CDATA[event]]&gt;</msgtype><br>   <event>&lt;![CDATA[subscribe]]&gt;</event><br></xml>
</li>
<li><p>输入流参数</p>
<p>序号    |参数名|释义<br>—|—|—<br>1|ToUserName|服务编号<br>2|FromUserName|发送方账号<br>3|CreateTime|点击事件发生时间戳<br>4|MsgType|事件类型，event<br>5|Event|固定为subscribe</p>
</li>
<li><p>输出</p>
<p>   文字或多图文消息</p>
</li>
</ul>
<h1 id="6-附录3"><a href="#6-附录3" class="headerlink" title="6    附录3"></a>6    附录3</h1><h2 id="6-1-通用返回值code定义（平台反馈client和browser时的参数）"><a href="#6-1-通用返回值code定义（平台反馈client和browser时的参数）" class="headerlink" title="6.1    通用返回值code定义（平台反馈client和browser时的参数）"></a>6.1    通用返回值code定义（平台反馈client和browser时的参数）</h2><ul>
<li><p>返回的code定义</p>
<p>数值    |意义|备注<br>—|—|—<br>200    |请求成功|<br>404    |请求发生未知错误    |<br>405    |服务器错误    |<br>406    |browser/client鉴权错误    |<br>601    |返回给client的是服务列表的json|<br>602    |返回给client的是远程服务反馈json (text、news)    |    </p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://damao4123.github.io/2016/04/25/挖坑神器/" data-id="cinfnw9se00021ikpku0h9drf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/25/hello-world/" class="article-date">
  <time datetime="2016-04-25T06:55:28.000Z" itemprop="datePublished">2016-04-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/25/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://damao4123.github.io/2016/04/25/hello-world/" data-id="cinfnw9s600001ikpvcg11lri" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/04/25/第二个坑/">第二个坑</a>
          </li>
        
          <li>
            <a href="/2016/04/25/挖坑神器/">第一个坑</a>
          </li>
        
          <li>
            <a href="/2016/04/25/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 牛<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>